# Numpy和Torch的广播

> 当两个数组的形状并不相同的时候，我们可以通过扩展数组的方法来实现相加、相减、相乘等操作，这种机制叫做广播（broadcasting）

* 广播的原则：如果两个数组的后缘维度（trailing dimension，即从末尾开始算起的维度）的轴长度相符，或其中的一方的长度为1，则认为它们是广播兼容的
* 广播是可以递归的，两个数组的维度一比就知道了

```python
x = torch.empty(5,1,4,1)
y = torch.empty( 3,1,1)
(x+y).shape
```

* 像上面的形式，可以看到，两个数组各个维度上要不就是有一个为1，要不就是有一个缺失，这就可以进行广播

```python
x = torch.empty(5,1,4,1)
y = torch.empty( 3,2,1)
(x+y).size()
```

* 像这种形式就不行了，我们可以看到4和2是不一致的，而且没有一个元素的值是1
* [这里附上链接](https://www.cnblogs.com/jiaxin359/p/9021726.html)

